<link rel="stylesheet" href="../assets/css/treeTable.css">

<script src="../assets/js/jquery.treeTable.js"></script>

<style>
    a {
        cursor: pointer;
    }
</style>
<div>

    <div class="col-md-12 row" style="padding-top: 10px">
        {{if headdata}}
        <div class="col-md-6 col-xs-12 row">
            <div class="col-md-4 col-xs-12">
                <div class="dropdowns"></div>
            </div>
            <div class="col-md-4 col-xs-12" style="margin-left: 50px">
                <div class="dropdowns"></div>
            </div>
        </div>
        {{/if}}
        <div class="col-md-6 col-xs-12 row ">
            {{each heardbutton}}
            <div class="col-md-4 col-xs-6">
                {{if $value.type==0}}
                <button class="btn btn-e btn-wd" onclick="{{$value.method}}({{$value.id}})">{{$value.text}}</button>
                {{else}}
                <a class="btn btn-e btn-wd" href="{{$value.href}}">{{$value.text}}</a>
                {{/if}}
            </div>
            {{/each}}
        </div>
    </div>

    <div class="container-fluid padding-t-20">
        <div class="row">
            <div class="col-md-12">
                <div class=" horizontal-form">
                    <table class="table table-bordered" id="treeTable">
                        <thead>
                        <tr>
                            <th><input class="fuxk" name="allcheck" type="checkbox" value="" id="allcheck"
                                       onclick="selectall(this)"/></th>

                            {{each datath}}
                            <th class="text-center cuti">{{$value.text}}</th>
                            {{/each}}
                        </tr>
                        </thead>
                        <tbody>
                        {{each tabledata}}
                        <tr id="{{$value.id}}" hasChild="{{$value.child}}">
                            <td><input class="fuxk" name="choose" class="{{$value.id}}" type="checkbox"
                                       onclick="selectallbelow(this)" value="{{$value.id}}"/></td>
                            {{if $value.img}}
                            <td><img src="{{$value.img}}" alt=""></td>
                            {{/if}}
                            {{if $value.text}}
                            <td>{{$value.text}}text</td>
                            {{/if}}
                            {{if $value.nub}}
                            <td>{{$value.nub}}nub</td>
                            {{/if}}
                            {{if $value.grud}}
                            <td>{{$value.grud}}grud</td>
                            {{/if}}
                            {{if $value.order}}
                            <td>{{$value.order}} order</td>
                            {{/if}}
                            <td class="text-center caozuo" style="color: #00bbff">
                                {{each $value.menu as $values}}
                                <a onclick="{{$values.method}}(this)" data-id="{{$value.id}}">{{$values.text}}</a>
                                {{/each}}
                            </td>
                        </tr>
                        {{/each}}
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>


<script>
    window.utils_admin.loadhtml($(".dropdowns"), '/dropdown.html', {
        "heard": "平台管理员",
        "body": [
            {
                "text": "1"
            },
            {
                "text": "2"
            },
            {
                "text": "3"
            }
        ],
    });
    $("#content")[0].onload = function () {
        let option = {
            theme: 'vsStyle',
            expandLevel: 1,
            beforeExpand: function ($treeTable, id) {
                beforeExpand($treeTable,id)
            },
            onSelect: function ($treeTable, id) {
                onSelect($treeTable,id);
            }
        };
        $('#treeTable').treeTable(option);
    }();
</script>